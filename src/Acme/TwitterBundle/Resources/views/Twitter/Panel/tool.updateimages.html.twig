{% extends '::index.html.twig' %}
{% block title %}
    {{ sdata.panel.title.process.updateImages }}
{% endblock %}
{% block style %}
    <link rel="stylesheet" href="{{ asset('bundles/panel/css/jquery-ui-1.10.3.custom.min.css') }}" />
    <link rel="stylesheet" href="{{ asset('bundles/panel/css/chosen.css') }}" />
    <style>
        t{font-family: opensans;}
    </style>

{% endblock %}
{% block content %}
    <div class="breadcrumbs" id="breadcrumbs">
        <script type="text/javascript">
            try {
                ace.settings.check('breadcrumbs', 'fixed')
            } catch (e) {
            }
        </script>

        <ul class="breadcrumb">
            <li>
                <i class="icon-home home-icon"></i>
                <a href="{{ path('acme_panel_homepage') }}">{{ sdata.panel.menu.dash }}</a>
            </li>

            <li class="active">
                {{ sdata.panel.menu.process }}
            </li>

            <li class="active">
                {{ sdata.panel.menu.processA.updateImages }}
            </li>
        </ul><!-- .breadcrumb -->

        <div class="nav-search" id="nav-search">
            <form class="form-search">
                <span class="input-icon">
                    <input type="text" placeholder="Search ..." class="nav-search-input" id="nav-search-input" autocomplete="off">
                    <i class="icon-search nav-search-icon"></i>
                </span>
            </form>
        </div><!-- #nav-search -->
    </div>

    <div class="page-content">
        <div class="row">
            <div class="col-xs-12">
                <h3 class="header smaller lighter blue"> {{ sdata.panel.head.updateImages }} </h3>
                <div class="col-xs-4"></div>
					<div class="col-xs-4">
                        <!--şimdilik yapım aşamasında
                        <button class="btn btn-block btn-info" onclick="ajax('{{ path("acme_panel_update_images") }}', 'bos', 'POST')">
                        -->
                        <button class="btn btn-block btn-info" onclick="alert('şuan yapım aşamasında')">
							<i class="icon-ok align-top bigger-100"></i>
							{{ sdata.panel.form.update }}
					</button>
					</div>
            </div>
        </div>
    </div>
{% endblock %}

{% block script %}

    <!--[if lte IE 8]>
      <script src="{{ asset('bundles/panel/js/excanvas.min.js') }}"></script>
    <![endif]-->

    <script src="{{ asset('bundles/panel/js/jquery-ui-1.10.3.custom.min.js') }}"></script>
    <script src="{{ asset('bundles/panel/js/jquery.ui.touch-punch.min.js') }}"></script>
    <script src="{{ asset('bundles/panel/js/chosen.jquery.min.js') }}"></script>
    <script src="{{ asset('bundles/panel/js/fuelux/fuelux.spinner.min.js') }}"></script>
    <script src="{{ asset('bundles/panel/js/date-time/bootstrap-datepicker.min.js') }}"></script>
    <script src="{{ asset('bundles/panel/js/date-time/bootstrap-timepicker.min.js') }}"></script>
    <script src="{{ asset('bundles/panel/js/date-time/moment.min.js') }}"></script>
    <script src="{{ asset('bundles/panel/js/date-time/daterangepicker.min.js') }}"></script>
    <script src="{{ asset('bundles/panel/js/bootstrap-colorpicker.min.js') }}"></script>
    <script src="{{ asset('bundles/panel/js/jquery.knob.min.js') }}"></script>
    <script src="{{ asset('bundles/panel/js/jquery.autosize.min.js') }}"></script>
    <script src="{{ asset('bundles/panel/js/jquery.inputlimiter.1.3.1.min.js') }}"></script>
    <script src="{{ asset('bundles/panel/js/jquery.maskedinput.min.js') }}"></script>
    <script src="{{ asset('bundles/panel/js/bootstrap-tag.min.js') }}"></script>
    <script src="{{ asset('bundles/panel/js/jquery.dataTables.min.js') }}"></script>
    <script src="{{ asset('bundles/panel/js/jquery.dataTables.bootstrap.js') }}"></script>
    <script type="text/javascript">
                                jQuery(function($) {
                                    var oTable1 = $('#sample-table-2').dataTable({
                                        "aoColumns": [
                                            {"bSortable": false},
                                            null, null, null, null, null, null, null, null, null, null,
                                            {"bSortable": false}
                                        ]});


                                    $('table th input:checkbox').on('click', function() {
                                        var that = this;
                                        $(this).closest('table').find('tr > td:first-child input:checkbox')
                                                .each(function() {
                                                    this.checked = that.checked;
                                                    $(this).closest('tr').toggleClass('selected');
                                                });

                                    });


                                    $('[data-rel="tooltip"]').tooltip({placement: tooltip_placement});
                                    function tooltip_placement(context, source) {
                                        var $source = $(source);
                                        var $parent = $source.closest('table')
                                        var off1 = $parent.offset();
                                        var w1 = $parent.width();

                                        var off2 = $source.offset();
                                        var w2 = $source.width();

                                        if (parseInt(off2.left) < parseInt(off1.left) + parseInt(w1 / 2))
                                            return 'right';
                                        return 'left';
                                    }

                                    $('#spinner2').ace_spinner({value: 0, min: 0, max: 10000, step: 1, touch_spinner: true, icon_up: 'icon-caret-up', icon_down: 'icon-caret-down'});

                                    function showErrorAlert(reason, detail) {
                                        var msg = '';
                                        if (reason === 'unsupported-file-type') {
                                            msg = "Unsupported format " + detail;
                                        }
                                        else {
                                            console.log("error uploading file", reason, detail);
                                        }
                                        $('<div class="alert"> <button type="button" class="close" data-dismiss="alert">&times;</button>' +
                                                '<strong>File upload error</strong> ' + msg + ' </div>').prependTo('#alerts');
                                    }

                                    $('#editor1').ace_wysiwyg({
                                        toolbar:
                                                [
                                                    'font',
                                                    null,
                                                    'fontSize',
                                                    null,
                                                    {name: 'bold', className: 'btn-info'},
                                                    {name: 'italic', className: 'btn-info'},
                                                    {name: 'strikethrough', className: 'btn-info'},
                                                    {name: 'underline', className: 'btn-info'},
                                                    null,
                                                    {name: 'insertunorderedlist', className: 'btn-success'},
                                                    {name: 'insertorderedlist', className: 'btn-success'},
                                                    {name: 'outdent', className: 'btn-purple'},
                                                    {name: 'indent', className: 'btn-purple'},
                                                    null,
                                                    {name: 'justifyleft', className: 'btn-primary'},
                                                    {name: 'justifycenter', className: 'btn-primary'},
                                                    {name: 'justifyright', className: 'btn-primary'},
                                                    {name: 'justifyfull', className: 'btn-inverse'},
                                                    null,
                                                    {name: 'createLink', className: 'btn-pink'},
                                                    {name: 'unlink', className: 'btn-pink'},
                                                    null,
                                                    {name: 'insertImage', className: 'btn-success'},
                                                    null,
                                                    'foreColor',
                                                    null,
                                                    {name: 'undo', className: 'btn-grey'},
                                                    {name: 'redo', className: 'btn-grey'}
                                                ],
                                        'wysiwyg': {
                                            fileUploadError: showErrorAlert
                                        }
                                    }).prev().addClass('wysiwyg-style2');

                                    if (typeof jQuery.ui !== 'undefined' && /applewebkit/.test(navigator.userAgent.toLowerCase())) {

                                        var lastResizableImg = null;
                                        function destroyResizable() {
                                            if (lastResizableImg == null)
                                                return;
                                            lastResizableImg.resizable("destroy");
                                            lastResizableImg.removeData('resizable');
                                            lastResizableImg = null;
                                        }

                                        var enableImageResize = function() {
                                            $('.wysiwyg-editor')
                                                    .on('mousedown', function(e) {
                                                        var target = $(e.target);
                                                        if (e.target instanceof HTMLImageElement) {
                                                            if (!target.data('resizable')) {
                                                                target.resizable({
                                                                    aspectRatio: e.target.width / e.target.height,
                                                                });
                                                                target.data('resizable', true);

                                                                if (lastResizableImg != null) {//disable previous resizable image
                                                                    lastResizableImg.resizable("destroy");
                                                                    lastResizableImg.removeData('resizable');
                                                                }
                                                                lastResizableImg = target;
                                                            }
                                                        }
                                                    })
                                                    .on('click', function(e) {
                                                        if (lastResizableImg != null && !(e.target instanceof HTMLImageElement)) {
                                                            destroyResizable();
                                                        }
                                                    })
                                                    .on('keydown', function() {
                                                        destroyResizable();
                                                    });
                                        }

                                        enableImageResize();

                                        /**
                                         //or we can load the jQuery UI dynamically only if needed
                                         if (typeof jQuery.ui !== 'undefined') enableImageResize();
                                         else {//load jQuery UI if not loaded
                                         $.getScript($path_assets+"/js/jquery-ui-1.10.3.custom.min.js", function(data, textStatus, jqxhr) {
                                         if('ontouchend' in document) {//also load touch-punch for touch devices
                                         $.getScript($path_assets+"/js/jquery.ui.touch-punch.min.js", function(data, textStatus, jqxhr) {
                                         enableImageResize();
                                         });
                                         } else	enableImageResize();
                                         });
                                         }
                                         */
                                    }

                                    $(".chosen-select").chosen();
                                    $('#chosen-multiple-style').on('click', function(e) {
                                        var target = $(e.target).find('input[type=radio]');
                                        var which = parseInt(target.val());
                                        if (which == 2)
                                            $('#form-field-select-4').addClass('tag-input-style');
                                        else
                                            $('#form-field-select-4').removeClass('tag-input-style');
                                    });


                                    $('textarea.limited').inputlimiter({
                                        remText: '%n karakter kaldı',
                                        limitText: '/ Max karakter : %n.'
                                    });

                                    $('#id-input-file-1 , #id-input-file-2').ace_file_input({
                                        no_file: 'No File ...',
                                        btn_choose: 'Resim Seç',
                                        btn_change: 'Değiştir',
                                        droppable: true,
                                        onchange: null,
                                        thumbnail: false, //| true | large
                                        whitelist: 'gif|png|jpg|jpeg'
                                                //blacklist:'exe|php'
                                                //onchange:''
                                                //
                                    });

                                    var tag_input = $('#form-field-tags');
                                    if (!(/msie\s*(8|7|6)/.test(navigator.userAgent.toLowerCase())))
                                    {
                                        tag_input.tag(
                                                {
                                                    placeholder: tag_input.attr('placeholder'),
                                                    //enable typeahead by specifying the source array
                                                    source: ace.variable_US_STATES, //defined in ace.js >> ace.enable_search_ahead
                                                }
                                        );
                                    }
                                    else {
                                        //display a textarea for old IE, because it doesn't support this plugin or another one I tried!
                                        tag_input.after('<textarea id="' + tag_input.attr('id') + '" name="' + tag_input.attr('name') + '" rows="3">' + tag_input.val() + '</textarea>').remove();
                                        //$('#form-field-tags').autosize({append: "\n"});
                                    }


                                });
    </script>

{% endblock %}